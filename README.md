# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ1

–ü—Ä–æ–µ–∫—Ç –Ω–∞ **Spring Boot**, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π –±–∞–∑–æ–≤—ã–π API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –ø–æ—Å—Ç–∞–º–∏. –ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é —á–µ—Ä–µ–∑ JWT –∏ –∑–∞—â–∏—Ç—É –æ—Ç XSS.

---

## üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

* **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**
* **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** (`POST /api/v1/auth`) ‚Äî –≤—ã–¥–∞—á–∞ JWT-—Ç–æ–∫–µ–Ω–∞ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –ª–æ–≥–∏–Ω–µ.
* **–ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ—Å—Ç–æ–≤** (`GET /api/v1/posts`) ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø–æ—Å—Ç–æ–≤ –≤ —Å–∏—Å—Ç–µ–º–µ.
* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **PostgreSQL** –∫–∞–∫ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö.
* **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞** —á–µ—Ä–µ–∑ GitHub Workflows —Å SpotBugs –∏ OWASP Dependency Check.

---

## üì¶ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### 1. `POST /api/v1/auth`

–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**Request:**

```json
{
  "username": "alice",
  "password": "password123"
}
```

**Response (200 OK):**

```json
{
  "jwtToken": "eyJhbGciOiJIUzI1NiIsInR...",
}
```

**Response (401 Unauthorized):**

```json
"Invalid credentials"
```

---

### 2. `GET /api/v1/posts`

–ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ—Å—Ç–æ–≤ –≤ —Å–∏—Å—Ç–µ–º–µ. –¢—Ä–µ–±—É–µ—Ç `Authorization: Bearer <JWT>` –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ.

**Request:**

```http
GET /api/v1/posts
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR...
```

**Response (200 OK):**

```json
[
  {
    "id": 1,
    "title": "My first post",
    "content": "Hello, world!",
    "createdAt": "2025-09-30T15:30:00Z"
  },
  {
    "id": 2,
    "title": "Second post",
    "content": "Some content here",
    "createdAt": "2025-10-01T08:10:00Z"
  }
]
```

**Response (401 Unauthorized):**

```json
"Unauthorized"
```

---

## üîí –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### 1. –•—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π

* –ü–∞—Ä–æ–ª–∏ **–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ**.
* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **BCrypt** –¥–ª—è —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π.

### 2. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

* –ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –ª–æ–≥–∏–Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤—ã–¥–∞—ë—Ç—Å—è **JWT-—Ç–æ–∫–µ–Ω**.
* –í—Å–µ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (`/api/**`) —Ç—Ä–µ–±—É—é—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Authorization: Bearer <token>`.
* –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –∫–∞—Å—Ç–æ–º–Ω–æ–º **JWT-—Ñ–∏–ª—å—Ç—Ä–µ**, –∫–æ—Ç–æ—Ä—ã–π –∏–∑–≤–ª–µ–∫–∞–µ—Ç `username` –∏–∑ —Ç–æ–∫–µ–Ω–∞ –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –µ–≥–æ –≤ `SecurityContext`.
* –î–æ—Å—Ç—É–ø –∫ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ Spring Security (`authenticated()`).

### 3. –ó–∞—â–∏—Ç–∞ –æ—Ç SQL Injection

* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **Spring Data JPA / Hibernate**, –∫–æ—Ç–æ—Ä—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è—é—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤.
* –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–µ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç —Å—Ç—Ä–æ–∫–∏ SQL –≤—Ä—É—á–Ω—É—é ‚Äî –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω—ã.

### 4. –ó–∞—â–∏—Ç–∞ –æ—Ç XSS

* –í—Å–µ –¥–∞–Ω–Ω—ã–µ, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ API, –ø—Ä–æ—Ö–æ–¥—è—Ç —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ `HtmlUtils.htmlEscape(...)`.
* –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –≤–æ–∑–≤—Ä–∞—Ç –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã—Ö HTML/JavaScript-—Ç–µ–≥–æ–≤.

### 5. –û–±—â–∏–µ –º–µ—Ä—ã

* `CSRF` –æ—Ç–∫–ª—é—á—ë–Ω, —Ç–∞–∫ –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è stateless REST API.
* –°–µ—Å—Å–∏–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è (`SessionCreationPolicy.STATELESS`).
* JWT Secret —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–Ω–µ—Å–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.
* –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (`USER`, `ADMIN`) –∑–∞–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ enum –∏ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —Ä–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞.

### 5. CI/CD –∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑

- **SpotBugs** (SAST) –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–¥ –Ω–∞ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –±–∞–≥–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.
- **OWASP Dependency Check** –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏.
- –ù–∞—Å—Ç—Ä–æ–µ–Ω GitHub Workflow, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —ç—Ç–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∏ push –∏ pull request –≤ `main`.
- –û—Ç—á—ë—Ç—ã SpotBugs –∏ OWASP –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∫–∞–∫ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.
<img width="1418" height="1548" alt="image" src="https://github.com/user-attachments/assets/c4f5251e-5821-48ca-a819-3330365aabab" />

<img width="1356" height="1142" alt="image" src="https://github.com/user-attachments/assets/4e510d85-57a6-41ce-8936-12e5bfaa371f" />


---
## ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

1. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:

```bash
curl -X POST http://localhost:8080/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"alice","password":"password123"}'
```

2. –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ—Å—Ç–æ–≤:

```bash
curl http://localhost:8080/api/posts \
  -H "Authorization: Bearer <JWT>"
```

---
